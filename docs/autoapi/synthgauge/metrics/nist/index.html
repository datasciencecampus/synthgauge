<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>synthgauge.metrics.nist &mdash; SynthGauge 2.0.0 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="synthgauge.metrics.privacy" href="../privacy/index.html" />
    <link rel="prev" title="synthgauge.metrics.density" href="../density/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> SynthGauge
            <img src="../../../../_static/favicon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">Home</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../demo.html">Example notebook</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">synthgauge</span></code></a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">synthgauge.metrics</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#package-contents">Package Contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">SynthGauge</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../index.html">API Reference</a> &raquo;</li>
          <li><a href="../../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">synthgauge</span></code></a> &raquo;</li>
          <li><a href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">synthgauge.metrics</span></code></a> &raquo;</li>
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">synthgauge.metrics.nist</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/autoapi/synthgauge/metrics/nist/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="module-synthgauge.metrics.nist">
<span id="synthgauge-metrics-nist"></span><h1><a class="reference internal" href="#module-synthgauge.metrics.nist" title="synthgauge.metrics.nist"><code class="xref py py-mod docutils literal notranslate"><span class="pre">synthgauge.metrics.nist</span></code></a><a class="headerlink" href="#module-synthgauge.metrics.nist" title="Permalink to this headline"></a></h1>
<p>Functions for the generic measures from the 2018 NIST competition.</p>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline"></a></h2>
<section id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#synthgauge.metrics.nist.kway_marginals" title="synthgauge.metrics.nist.kway_marginals"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kway_marginals</span></code></a>(real, synth, k=3, trials=100, bins=100, seed=None)</p></td>
<td><p>The first generic measure based on similarity of k-way marginals.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#synthgauge.metrics.nist.hoc" title="synthgauge.metrics.nist.hoc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hoc</span></code></a>(real, synth, trials=300, prob=0.1, seed=None)</p></td>
<td><p>A measure based on Higher Order Conjunctions (HOC).</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="synthgauge.metrics.nist.kway_marginals">
<span class="sig-prename descclassname"><span class="pre">synthgauge.metrics.nist.</span></span><span class="sig-name descname"><span class="pre">kway_marginals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">real</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/synthgauge/metrics/nist.html#kway_marginals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#synthgauge.metrics.nist.kway_marginals" title="Permalink to this definition"></a></dt>
<dd><p>The first generic measure based on similarity of k-way marginals.</p>
<p>In essence, calculate the summed absolute difference in density
across an array of randomly sampled k-way marginals. Transform and
summarise these deviations to give a single score between 0 and 1.
These extremes represent the worst and best case scenarios,
respectively.</p>
<p>The NIST competition utilised 3-way marginals only. Details can be
found at <a class="reference external" href="https://doi.org/10.6028/NIST.TN.2151">https://doi.org/10.6028/NIST.TN.2151</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>real</strong> (<em>pandas.DataFrame</em>) – Dataframe containing the real data.</p></li>
<li><p><strong>synth</strong> (<em>pandas.DataFrame</em>) – Dataframe containing the synthetic data.</p></li>
<li><p><strong>k</strong> (<em>int</em><em>, </em><em>default 3</em>) – Number of features to include in each k-way marginal. Default
uses 3 (as done in the NIST competition).</p></li>
<li><p><strong>trials</strong> (<em>int</em><em>, </em><em>default 100</em>) – Maximum number of marginals to consider to estimate the overall
score. If there are fewer <cite>k</cite>-way combinations than <cite>trials</cite>,
tries all. Default uses 100 (as done in the NIST competition).</p></li>
<li><p><strong>bins</strong> (<em>int</em><em> or </em><em>str</em><em>, </em><em>default 100</em>) – Binning method for sampled numeric features. Can be anything
accepted by <cite>numpy.histogram</cite>. Default uses 100 bins (as done in
the NIST competition).</p></li>
<li><p><strong>seed</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>default None</em>) – Random number seed. If <cite>None</cite>, results will not be reproducible.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – The mean transformed sum absolute deviation in k-way densities.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="synthgauge.metrics.nist.hoc">
<span class="sig-prename descclassname"><span class="pre">synthgauge.metrics.nist.</span></span><span class="sig-name descname"><span class="pre">hoc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">real</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">synth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prob</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../_modules/synthgauge/metrics/nist.html#hoc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#synthgauge.metrics.nist.hoc" title="Permalink to this definition"></a></dt>
<dd><p>A measure based on Higher Order Conjunctions (HOC).</p>
<p>This measure compares the relative sizes of randomly selected pools
of “similar” rows in the real and synthetic data. This measure of
similarity is defined across a set of randomly genereated test
cases applied to each dataset. Each test case consists of a set of
rules.</p>
<p>The <span class="math notranslate nohighlight">\(i\)</span>-th test calculates the fraction of records satisfying
its rules in the real data, <span class="math notranslate nohighlight">\(f_{ri}\)</span>, and the synthetic,
denoted <span class="math notranslate nohighlight">\(f_{si}\)</span>. Their dissimilarity in test <span class="math notranslate nohighlight">\(i\)</span> is
quantified as:</p>
<div class="math notranslate nohighlight">
\[d_i = \ln\left(\max(f_{si}, 10^{-6})\right) - \ln(f_{ri})\]</div>
<p>These dissimilarities are summarised as:</p>
<div class="math notranslate nohighlight">
\[\Delta = \sqrt{\frac{1}{N} \sum_{i=1}^{N} d_i^2}\]</div>
<p>where <span class="math notranslate nohighlight">\(N\)</span> is the number of test cases. Finally, this is
transformed to a HOC score:</p>
<div class="math notranslate nohighlight">
\[HOC = \max \left(0, 1 + \frac{\Delta}{\ln(10^{-3})}\right)\]</div>
<p>This measure is bounded between 0 and 1, indicating whether the
datasets are nothing alike or identical based on the test cases,
respectively. In the original text this score is multiplied by 1000
to make it human-readable. Full details are available in
<a class="reference external" href="https://doi.org/10.6028/NIST.TN.2151">https://doi.org/10.6028/NIST.TN.2151</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>real</strong> (<em>pandas.DataFrame</em>) – Dataframe containing the real data.</p></li>
<li><p><strong>synth</strong> (<em>pandas.DataFrame</em>) – Dataframe containing the synthetic data.</p></li>
<li><p><strong>trials</strong> (<em>int</em><em>, </em><em>default 300</em>) – Number of test cases to create. Default of 300 as in the
competition.</p></li>
<li><p><strong>prob</strong> (<em>float</em><em>, </em><em>default 0.1</em>) – Probability of any column being included in a test case. Default
of 0.1 as in the competition.</p></li>
<li><p><strong>seed</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>default None</em>) – Random number seed. If <cite>None</cite>, results will not be reproducible.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>score</strong> – The overall HOC score.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>It is possible that some test cases will be “empty”, i.e. when no
columns are selected. In this scenario, the score for that case will
be <cite>np.nan</cite> rather than it being resampled.</p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../density/index.html" class="btn btn-neutral float-left" title="synthgauge.metrics.density" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../privacy/index.html" class="btn btn-neutral float-right" title="synthgauge.metrics.privacy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Data Science Campus.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>